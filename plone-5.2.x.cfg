[buildout]
extends =
    https://raw.githubusercontent.com/collective/buildout.plonetest/master/test-5.2.x.cfg
    https://raw.githubusercontent.com/collective/buildout.plonetest/master/qa.cfg

parts +=
    createcoverage
    omelette
    zopepy

package-name = collective.portletpage
package-extras = [test, archetypes]

[instance]
eggs =
    Plone
    plone.app.upgrade
    ${buildout:package-name} [archetypes]
    ${buildout:eggs}

[omelette]
recipe = collective.recipe.omelette
eggs = ${instance:eggs}

[zopepy]
recipe = zc.recipe.egg
eggs =
    ${instance:eggs}
interpreter = zopepy

[code-analysis]
directory = collective

[versions]
setuptools =

# Code analysis pins
createcoverage = 1.5
flake8 = 5.0.4
importlib-metadata = 2.1.3
mccabe = 0.7.0
plone.recipe.codeanalysis = 1.1.1
pycodestyle = 2.9.1
pyflakes = 2.5.0
zipp = 1.2.0

[versions:python27]
bcrypt = 3.1.7
flake8 = 3.9.2
mccabe = 0.6.1
pycodestyle = 2.7.0
pyflakes = 2.3.1
archetypes.configure = 0.2

[instance]
zcml -=
    ${buildout:package-name}